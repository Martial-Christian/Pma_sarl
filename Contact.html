<!DOCTYPE html>
<html lang="fr">

<head>
    {{> head}}
    <link rel="stylesheet" href="/src/style/contact.css">
    <link rel="stylesheet" href="/src/style/partners_carousel.css">
    <!-- Animate CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <title>Contact | PMAP - Experts en Étanchéité</title>
</head>

<body class="bg-light">
    <!-- Navigation -->
    {{> nav}}

    <!-- Main Content -->
    <main class="container my-5">
        <!-- Contact Section -->
        <section id="contact"
            class="contact-section bg-white rounded-4 shadow-sm p-4 p-md-5 mb-3 animate__animated animate__fadeIn">
            <div class="section-header text-center mb-5">
                <h1 class="display-5 fw-bold text-primary mb-3" data-i18n="contact-title">Contactez-nous</h1>
                <p class="lead text-muted" data-i18n="contact-subtitle">Notre équipe est à votre écoute pour répondre à
                    toutes vos questions.</p>
                <div class="divider mx-auto bg-primary"></div>
            </div>

            <!-- Contact Form -->
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <form id="contactForm" class="needs-validation" novalidate>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control form-control-lg" id="fullName"
                                        placeholder="Vos noms et prénoms" data-i18n="contact-name-placeholder" required>
                                    <label for="fullName"><span data-i18n="contact-name-label">Noms et Prénoms</span>
                                        <span class="text-danger">*</span></label>
                                    <div class="invalid-feedback">
                                        Veuillez entrer votre nom complet.
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="email" class="form-control form-control-lg" id="emailAddress"
                                        placeholder="votre@email.com" data-i18n="contact-email-placeholder">
                                    <label for="emailAddress" data-i18n="contact-email-label">Adresse mail</label>
                                    <div class="invalid-feedback">
                                        Veuillez entrer une adresse email valide.
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="tel" class="form-control form-control-lg" id="phoneNumber"
                                        placeholder="6XX XXX XXX" data-i18n="contact-phone-placeholder" required>
                                    <label for="phoneNumber"><span data-i18n="contact-phone-label">Numéro de
                                            téléphone</span> <span class="text-danger">*</span></label>
                                    <div class="invalid-feedback">
                                        Veuillez entrer un numéro de téléphone valide.
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-floating">
                                    <select class="form-select" id="subject">
                                        <option value="Demande de devis" data-i18n="contact-subject-quote">Demande de
                                            devis</option>
                                        <option value="Question technique" data-i18n="contact-subject-tech">Question
                                            technique</option>
                                        <option value="Support client" data-i18n="contact-subject-support">Support
                                            client</option>
                                        <option value="Autre" data-i18n="contact-subject-other">Autre</option>
                                    </select>
                                    <label for="subject" data-i18n="contact-subject-label">Sujet</label>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="form-floating">
                                    <textarea class="form-control" id="messageText" style="height: 150px"
                                        placeholder="Décrivez votre projet ou posez votre question..."
                                        data-i18n="contact-message-placeholder" required></textarea>
                                    <label for="messageText"><span data-i18n="contact-message-label">Votre
                                            message</span> <span class="text-danger">*</span></label>
                                    <div class="invalid-feedback">
                                        Veuillez écrire votre message.
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 text-center mt-4">
                                <button type="submit" class="btn btn-primary btn-lg px-5 py-3 fw-bold" target="_blank">
                                    <i class='bx bx-paper-plane me-2'></i> <span data-i18n="btn-send">Envoyer le
                                        message</span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Social Media -->
            <div class="social-section text-center mt-5 pt-5">
                <h3 class="h5 text-uppercase text-muted mb-4" data-i18n="contact-direct">Ou contactez-nous directement
                </h3>
                <div class="d-flex justify-content-center gap-3">
                    <a href="https://www.facebook.com/profile.php?id=100092855307952&mibextid=ZbWKwL"
                        class="social-icon btn btn-outline-primary rounded-circle" target="_blank" aria-label="Facebook"
                        data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook">
                        <i class='bx bxl-facebook fs-4'></i>
                    </a>
                    <a href="https://www.linkedin.com/posts/pm-and-partners-sarl-367655269_yaoundaez-aeztanchaezit-travauxpubliques-activity-7315658372937121792--N2K?utm_source=share&utm_medium=member_android&rcm=ACoAAEHFEL8BnNt12vD-fV4XaRbS6aNdM71g2iY"
                        class="social-icon btn btn-outline-primary rounded-circle" target="_blank" aria-label="LinkedIn"
                        data-bs-toggle="tooltip" data-bs-placement="top" title="LinkedIn">
                        <i class='bx bxl-linkedin fs-4'></i>
                    </a>
                    <a href="https://www.instagram.com/pmandpartners_sarl?igsh=YzljYTk1ODg3Zg=="
                        class="social-icon btn btn-outline-primary rounded-circle" target="_blank"
                        aria-label="Instagram" data-bs-toggle="tooltip" data-bs-placement="top" title="Instagram">
                        <i class='bx bxl-instagram-alt fs-4'></i>
                    </a>
                    <a href="https://wa.me/qr/CI4VSIQBDMY7F1" class="social-icon btn btn-outline-primary rounded-circle"
                        target="_blank" aria-label="WhatsApp" data-bs-toggle="tooltip" data-bs-placement="top"
                        title="WhatsApp">
                        <i class='bx bxl-whatsapp fs-4'></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- Partners Section -->
        <section id="partners"
            class="partners-section bg-white rounded-4 shadow-sm p-4 p-md-5 text-center animate__animated animate__fadeIn">
            <div class="section-header mb-5">
                <h2 class="display-6 fw-bold text-primary" data-i18n="trust-title">Ils nous font confiance</h2>
                <div class="divider mx-auto bg-primary"></div>
            </div>

            <div class="partners-container">
                <div class="row justify-content-center">
                    <div class="col-md-8 col-lg-6">
                        <img src="/img/Logo partenaire.png" alt="Logo partenaire" class="img-fluid">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    {{> footer}}

    <!-- Scripts -->
    <script src="/src/js/partners_carousel.js"></script>

    <!-- Custom Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Enable Bootstrap tooltips
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Contact form handling
            const contactForm = document.getElementById('contactForm');

            contactForm.addEventListener('submit', function (e) {
                e.preventDefault();

                if (!this.checkValidity()) {
                    e.stopPropagation();
                    this.classList.add('was-validated');
                    return;
                }

                // Get form values
                const formData = {
                    fullName: document.getElementById('fullName').value.trim(),
                    phoneNumber: document.getElementById('phoneNumber').value.trim(),
                    emailAddress: document.getElementById('emailAddress').value.trim(),
                    subject: document.getElementById('subject').value,
                    messageText: document.getElementById('messageText').value.trim()
                };

                // Format WhatsApp message
                const whatsappMessage = `Nouveau message de contact:\n\n` +
                    `*Nom:* ${formData.fullName}\n` +
                    `*Téléphone:* ${formData.phoneNumber}\n` +
                    `*Email:* ${formData.emailAddress || 'Non fourni'}\n` +
                    `*Sujet:* ${formData.subject}\n\n` +
                    `*Message:*\n${formData.messageText}`;

                // Encode for URL
                const encodedMessage = encodeURIComponent(whatsappMessage);

                // Redirect to WhatsApp
                window.location.href = `https://wa.me/237621778570=${encodedMessage}`;
            });

            // Add animation on scroll
            const animateOnScroll = function () {
                const elements = document.querySelectorAll('.animate__animated');

                elements.forEach(element => {
                    const elementPosition = element.getBoundingClientRect().top;
                    const screenPosition = window.innerHeight / 1.3;

                    if (elementPosition < screenPosition) {
                        element.style.opacity = '1';
                    }
                });
            };

            window.addEventListener('scroll', animateOnScroll);
            animateOnScroll(); // Initialize
        });
    </script>
</body>

</html>